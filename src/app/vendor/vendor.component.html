<div class="container container-fluid">
  <div class="float-right row"><button routerLink="/app/vendors-list" class="btn-link">Show </button> </div>
  <h4>Sub Vendor Information</h4>
<form [formGroup]="vendorForm">
  <div class="row mb-3 mt-4">
    <div class="col-3">
      <label required>
        Vendor Name:
      </label>
    </div>
    <div class="col-6">
      <input type="text" formControlName="vendorName" class="form-control" [(ngModel)]="vendorInfo.vendorName">
      <small *ngIf="recordId && vendorForm.value.vendorName !== (unmodifiedData && unmodifiedData.vendorName)" class="text-info">
        Old value was -{{unmodifiedData && unmodifiedData.vendorName}}
      </small>
    </div>
  </div>
  <div class="row mb-3 mt-4">
    <div class="col-3">
      <label required>
        Contact Person:
      </label>
    </div>
    <div class="col-6">
      <input type="text" formControlName="contactPerson" class="form-control" [(ngModel)]="vendorInfo.contactPerson">
      <small *ngIf="recordId && vendorForm.value.contactPerson !== (unmodifiedData && unmodifiedData.contactPerson)" class="text-info">
        Old value was -{{unmodifiedData && unmodifiedData.contactPerson}}
      </small>
    </div>
  </div>
  <div class="row mb-3 mt-4">
    <div class="col-3">
      <label required>
        Contact:
      </label>
    </div>
    <div class="col-6">
      <input type="number" formControlName="contact" class="form-control" [(ngModel)]="vendorInfo.contact">
      <small *ngIf="recordId && vendorForm.value.contact !== (unmodifiedData && unmodifiedData.contact)" class="text-info">
        Old value was -{{unmodifiedData && unmodifiedData.contact}}
      </small>
    </div>
  </div>
  <div class="row mb-3 mt-4">
    <div class="col-3">
      <label required>
        Email:
      </label>
    </div>
    <div class="col-6">
      <input type="text" formControlName="email" class="form-control" [(ngModel)]="vendorInfo.email"
             pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">
      <small *ngIf="recordId && vendorForm.value.email !== (unmodifiedData && unmodifiedData.email)" class="text-info">
        Old value was -{{unmodifiedData && unmodifiedData.email}}
      </small>
    </div>
  </div>
  <div class="row mb-3 mt-4">
    <div class="col-3">
      <label required>
        Region:
      </label>
    </div>
    <div class="col-6">
      <ng-select formControlName="region"
                 [items]="countriesList"
                 bindLabel="name"
                 placeholder="Select Country"
                 [(ngModel)]="vendorInfo.region"
      (change)="onCountry($event)"></ng-select>
      <small *ngIf="recordId && vendorForm.value.region !== (unmodifiedData && unmodifiedData.region)" class="text-info">
        Old value was -{{unmodifiedData && unmodifiedData.region}}
      </small>
    </div>
  </div>
  <div>
    <fieldset>
      <legend>Address</legend>
      <div class="row mb-3">
        <div class="col-3">
          <label required>
            Street:
          </label>
        </div>
        <div class="col-6">
          <input type="text" formControlName="street" class="form-control" [(ngModel)]="(vendorInfo.address && vendorInfo.address.street) || vendorInfo.street">
          <small *ngIf="recordId && vendorForm.value.street !== (unmodifiedData && unmodifiedData.street)" class="text-info">
            Old value was -{{unmodifiedData && unmodifiedData.street}}
          </small>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-3">
          <label required>
            City:
          </label>
        </div>
        <div class="col-6">
          <input type="text" formControlName="city" class="form-control" [(ngModel)]="(vendorInfo.address && vendorInfo.address.city) || vendorInfo.city">
          <small *ngIf="recordId && vendorForm.value.city !== (unmodifiedData && unmodifiedData.city)" class="text-info">
            Old value was -{{unmodifiedData && unmodifiedData.city}}
          </small>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-3">
          <label required>
            State:
          </label>
        </div>
        <div class="col-6">
          <ng-select formControlName="state"
                     [items]="statesList"
                     bindLabel="name"
                     placeholder="Select State"
                     [(ngModel)]="(vendorInfo.address && vendorInfo.address.state) || vendorInfo.state"></ng-select>
          <small *ngIf="recordId && vendorForm.value.state !== (unmodifiedData && unmodifiedData.state)" class="text-info">
            Old value was -{{unmodifiedData && unmodifiedData.state}}
          </small>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-3">
          <label required>
            Zip:
          </label>
        </div>
        <div class="col-6">
          <input type="number" formControlName="zip" class="form-control" [(ngModel)]="(vendorInfo.address && vendorInfo.address.zip) || vendorInfo.zip">
          <small *ngIf="recordId && vendorForm.value.zip !== (unmodifiedData && unmodifiedData.zip)" class="text-info">
            Old value was -{{unmodifiedData && unmodifiedData.zip}}
          </small>
        </div>
      </div>
    </fieldset>
  </div>
  <div class="row mb-3 mt-4">
    <div class="col-3">
      <label required>
        Scope of Services Performed:
      </label>
    </div>
    <div class="col-6">
      <input type="text" formControlName="scopeOfServices" class="form-control" [(ngModel)]="vendorInfo.scopeOfServices">
      <small *ngIf="recordId && vendorForm.value.scopeOfServices !== (unmodifiedData && unmodifiedData.scopeOfServices)" class="text-info">
        Old value was -{{unmodifiedData && unmodifiedData.scopeOfServices}}
      </small>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-3">
      <label required>
        New Submittal:
      </label>
    </div>
    <div class="col-6">
      <ng-select formControlName="newSubmittal"
                 [items]="booleanList"
                 bindLabel="value"
                 placeholder="Select New Submittal"
                 [(ngModel)]="vendorInfo.newSubmittal"></ng-select>
      <small *ngIf="recordId && vendorForm.value.newSubmittal !== (unmodifiedData && unmodifiedData.newSubmittal)" class="text-info">
        Old value was -{{unmodifiedData && unmodifiedData.newSubmittal}}
      </small>
    </div>
  </div>
  <div class="float-right">
    <button class="btn btn-primary" (click)="onSubmit(vendorInfo)" [disabled]="vendorForm.invalid">Submit</button>
  </div>
</form>

</div>



